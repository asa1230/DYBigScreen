(function(b){function c(g){var e=b(g.data.target);var f=g.data.root.data("settings");var h=e.find("."+f.frontContainer);var d=e.find("."+f.backContainer);e.stop(true,true).animate({opacity:1},100);if(!Modernizr.csstransitions){h.css("z-index",800).animate({opacity:0},300);d.css("z-index",900).animate({opacity:1},300)}else{h.css("z-index",800).removeClass("normal").addClass(f.animateStyle+" frontSide");d.css("z-index",900).removeClass("backSide").addClass(f.animateStyle+" normal")}g.stopImmediatePropagation()}function a(g){var e=b(g.data.target);var f=g.data.root.data("settings");var h,d;e.stop(true,true).animate({opacity:1},f.animateDelay,function(){h=e.find("."+f.frontContainer);d=e.find("."+f.backContainer);if(!Modernizr.csstransitions){h.css("z-index",900).animate({opacity:1},300);d.css("z-index",800).animate({opacity:0},300)}else{h.css("z-index",900).removeClass("frontSide").addClass("normal");d.css("z-index",800).removeClass("normal").addClass("backSide")}});g.stopImmediatePropagation()}b.fn.extend({cardToggle:function(e){var f={targetContainer:null,frontContainer:"front",backContainer:"back",animateStyle:"fly",animateDelay:"400"};if(e){b.extend(f,e)}var h=this;h.data("settings",f);var g,d;if(f.targetContainer!=null){h.find("."+f.targetContainer).each(function(i){g=b(this).find("."+f.frontContainer);d=b(this).find("."+f.backContainer);if(!Modernizr.csstransitions){d.css({"z-index":800,opacity:0});g.css("z-index",900)}else{d.css("z-index",800).addClass(f.animateStyle+" backSide");g.css("z-index",900)}b(this).on("mouseover",{target:b(this),root:h},c);b(this).on("mouseleave",{target:b(this),root:h},a)})}else{g=b(this).find("."+f.frontContainer);d=b(this).find("."+f.backContainer);if(!Modernizr.csstransitions){d.css({"z-index":800,opacity:0});g.css("z-index",900)}else{d.css("z-index",800).addClass(f.animateStyle+" backSide");g.css("z-index",900).addClass(f.animateStyle)}b(this).on("mouseover",{target:b(this),root:h},c);b(this).on("mouseleave",{target:b(this),root:h},a)}h.destroy=function(){if(f.targetContainer!=null){h.find("."+f.targetContainer).each(function(i){b(this).off();b(this).off();g=b(this).find("."+f.frontContainer);d=b(this).find("."+f.backContainer);d.removeClass(f.animateStyle+" backSide frontSide normal");g.removeClass(f.animateStyle+" backSide frontSide normal")})}else{b(this).off();b(this).off();g=b(this).find("."+f.frontContainer);d=b(this).find("."+f.backContainer);d.removeClass(f.animateStyle+" backSide frontSide normal");g.removeClass(f.animateStyle+" backSide frontSide normal")}};return this}})})(jQuery);